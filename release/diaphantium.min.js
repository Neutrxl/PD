(function() { function popupToggle(e){var i=!1;let n;const o=e+' .content[data-tab="settings"] input.hotkey';function r(t){mobileIcon();var a={top:parseFloat($(t).css("top")),left:parseFloat($(t).css("left"))},a=(localStorage.setItem("Diaphantium.coordinates",JSON.stringify(a)),$(t+' .content[data-tab="clicker"] .text_input.delay')),e=JSON.parse(localStorage.getItem("Diaphantium.mine_delay"))[0]||"100",o=a.val();/^\d+$/.test(o)?(o=a.map(function(){return $(this).val()}).get(),localStorage.setItem("Diaphantium.mine_delay",JSON.stringify(o))):a.val(e),$(t.slice(0,t.lastIndexOf(" "))).remove(),i=!1,n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock)&&n.requestPointerLock()}$(o).on("keydown",function(t){t.stopPropagation()}),$(document).on("click",e+" .close",function(){r(e)}),$(document).keydown(t=>{var a=JSON.parse(localStorage.getItem("Diaphantium.hotkeys")),a=(a=a&&a.find(function(t){return"Open menu"===t.action}))?a.value:"Slash";t.code!==a||$(t.target).is(o)||"INPUT"!==t.target.tagName&&(t.preventDefault(),i?r(e):(createPopup(e),initializeTab(e,"clicker"),i=!0,n=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement,document.exitPointerLock()))}),$(document).on("click",function(t){t.target.closest('.diaphantium_mobile.icon.main[author="OrakomoRi"]')&&!i&&(createPopup(e),initializeTab(e,"clicker"),i=!0)}),$(window).on("click",t=>{var a=e.slice(0,e.lastIndexOf(" "));1!==t.which&&"touchstart"!==t.type||!$(t.target).is($(a))||r(e)})}function initializeTab(t,a){$(t+" .content").removeClass("active"),$(t+` .content[data-tab="${a}"]`).addClass("active"),$(t+" .navigation .item").removeClass("active"),$(t+` .navigation .item[data-tab="${a}"]`).addClass("active"),$(t+" .navigation .item").removeAttr("tabindex"),$(t+" .navigation .item:not(.active)").attr("tabindex","0")}function chooseTab(e){$(document).on("click",e+" .navigation .item",function(){var t=$(this).attr("data-tab");initializeTab(e,t)}),$(document).on("keydown",e+" .navigation .item",function(t){var a;"Space"!==t.code&&"Enter"!==t.code||(a=$(this).attr("data-tab"),initializeTab(e,a),t.preventDefault())})}function popupAppearance(e){$(document).on("click",function(t){var a=$(e+" .checkbox");0<a.length&&(a.is(t.target)||a.has(t.target).length||a.blur())}),$(e+' .content[data-tab="clicker"] .supplies .supply').click(function(){"off"===$(this).attr("data-state")?$(this).attr("data-state","on"):$(this).attr("data-state","off")})}function createPopup(t){$("body").append('<div class="diaphantium popup_container"author=OrakomoRi><div class=popup><button class=close><svg viewBox="0 0 512 512"xmlns=http://www.w3.org/2000/svg><path d="M368 368L144 144M368 144L144 368"fill=none stroke=currentColor stroke-linecap=round stroke-width=32 stroke-linejoin=round /></svg></button><nav class=navigation><div class=item data-tab=clicker><svg viewBox="0 0 512 512"xmlns=http://www.w3.org/2000/svg><path d="M448 225.64v99a64 64 0 01-40.23 59.42l-23.68 9.47A32 32 0 00364.6 417l-10 50.14A16 16 0 01338.88 480H173.12a16 16 0 01-15.69-12.86L147.4 417a32 32 0 00-19.49-23.44l-23.68-9.47A64 64 0 0164 324.67V224c0-105.92 85.77-191.81 191.65-192S448 119.85 448 225.64z"fill=none stroke=currentColor stroke-linecap=round stroke-width=32 stroke-miterlimit=10 /><circle cx=168 cy=280 fill=none r=40 stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=32 /><circle cx=344 cy=280 fill=none r=40 stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=32 /><path d="M256 336l-16 48h32l-16-48zM256 448v32M208 448v32M304 448v32"fill=none stroke=currentColor stroke-linecap=round stroke-width=32 stroke-linejoin=round /></svg></div><div class=item data-tab=settings><svg viewBox="0 0 512 512"xmlns=http://www.w3.org/2000/svg><path d="M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z"fill=none stroke=currentColor stroke-linecap=round stroke-width=32 stroke-linejoin=round /></svg></div></nav><div class=content data-tab=clicker><div class=header>Clicker</div><div class=inner><div class=scrollable><div class=supplies><div class=subheader>Chose supplies to click</div><div class=subinner><svg viewBox="0 0 33 33"xmlns=http://www.w3.org/2000/svg class=supply data-key=1 height=33 width=33><path d="M25.4995 1.5L20.9995 6V8L24.9995 12H26.9995L31.4995 7.5H32.9995V10C32.9995 15.5228 28.5224 20 22.9995 20C21.5322 20 20.1386 19.684 18.8833 19.1162L6.99993 30.9999C5.61922 32.3807 3.38061 32.3807 1.99989 31C0.61919 29.6193 0.619177 27.3807 1.99985 26L13.8833 14.1162C13.3156 12.8609 12.9995 11.4673 12.9995 10C12.9995 4.47715 17.4767 0 22.9995 0H25.4995V1.5Z"clip-rule=evenodd fill-rule=evenodd /></svg> <svg viewBox="0 0 32 32"xmlns=http://www.w3.org/2000/svg class=supply data-key=2 height=32 width=32><path d="M29.3585 20.2617C26.6141 28.9674 16 32 16 32C16 32 2 28 2 16V5.5086C2 4.61564 2.59195 3.83087 3.45056 3.58555L16 0L28.5494 3.58555C29.408 3.83087 30 4.61564 30 5.5086V12V16C30 16 30 16 30 16C30 17.5514 29.766 18.9691 29.3585 20.2617ZM26 10.8571V7.01721L16 4.16006L6 7.01721V16C6 20.2091 8.39074 23.1492 11.325 25.2451C12.7793 26.2839 14.2595 27.0272 15.3882 27.5109C15.609 27.6055 15.814 27.6892 16 27.7624L16 8L26 10.8571Z"clip-rule=evenodd fill-rule=evenodd /></svg> <svg viewBox="0 0 32 32"xmlns=http://www.w3.org/2000/svg class=supply data-key=3 height=32 width=32><path d="M4 1.33333L0 26L20 12L6 32L30.6667 28L20 24L32 0L8 12L4 1.33333Z"clip-rule=evenodd fill-rule=evenodd /></svg> <svg viewBox="0 0 32 32"xmlns=http://www.w3.org/2000/svg class=supply data-key=4 height=32 width=32><path d="M2 13.8397C2 12.672 2.51025 11.5626 3.39683 10.8027L16 0L28.6032 10.8027C29.4897 11.5626 30 12.672 30 13.8397V20L16 8L2 20V13.8397Z"/><path d="M2 25.8397C2 24.672 2.51025 23.5626 3.39683 22.8027L16 12L28.6032 22.8027C29.4897 23.5626 30 24.672 30 25.8397V32L16 20L2 32V25.8397Z"/></svg></div></div><div class=click_enable><label class=label><p>Click supplies</p><input class="supplies checkbox"type=checkbox></label></div><div class=mine_delay><label class=label>Delay for mines (ms) <input class="text_input delay"></label></div></div></div></div><div class=content data-tab=settings><div class=header>Settings</div><div class=inner><div class=scrollable><div class=hotkeys><div class=subheader>Hotkeys</div><div class=subinner><div class=hotkey_block><div class=refresh_hotkey data-action="Open menu"><svg viewBox="0 0 487.23 487.23"xmlns=http://www.w3.org/2000/svg><path d="M55.323 203.641a38.907 38.907 0 0 0 35.872-23.854c25.017-59.604 83.842-101.61 152.42-101.61 37.797 0 72.449 12.955 100.23 34.442l-21.775 3.371a16.981 16.981 0 0 0-14.232 14.512 16.983 16.983 0 0 0 9.867 17.768l119.746 53.872a17.012 17.012 0 0 0 16.168-1.205 17.019 17.019 0 0 0 7.796-14.208l.621-131.943a16.977 16.977 0 0 0-12.024-16.332 16.992 16.992 0 0 0-19.104 6.837l-16.505 24.805C370.398 26.778 310.1 0 243.615 0 142.806 0 56.133 61.562 19.167 149.06a39.258 39.258 0 0 0 3.429 36.987 39.265 39.265 0 0 0 32.727 17.594zM464.635 301.184a39.266 39.266 0 0 0-32.728-17.594 38.907 38.907 0 0 0-35.872 23.854c-25.018 59.604-83.843 101.61-152.42 101.61-37.798 0-72.45-12.955-100.232-34.442l21.776-3.369a16.986 16.986 0 0 0 14.233-14.514 16.985 16.985 0 0 0-9.867-17.768L49.779 285.089a17.014 17.014 0 0 0-16.169 1.205 17.017 17.017 0 0 0-7.795 14.207l-.622 131.943a16.976 16.976 0 0 0 12.024 16.332 16.991 16.991 0 0 0 19.104-6.839l16.505-24.805c44.004 43.32 104.303 70.098 170.788 70.098 100.811 0 187.481-61.561 224.446-149.059a39.252 39.252 0 0 0-3.425-36.987z"/></svg></div><label class=label><input class="text_input hotkey"data-action="Open menu"readonly><p class=text>Open menu</label></div><div class=hotkey_block><div class=refresh_hotkey data-action="Click supplies"><svg viewBox="0 0 487.23 487.23"xmlns=http://www.w3.org/2000/svg><path d="M55.323 203.641a38.907 38.907 0 0 0 35.872-23.854c25.017-59.604 83.842-101.61 152.42-101.61 37.797 0 72.449 12.955 100.23 34.442l-21.775 3.371a16.981 16.981 0 0 0-14.232 14.512 16.983 16.983 0 0 0 9.867 17.768l119.746 53.872a17.012 17.012 0 0 0 16.168-1.205 17.019 17.019 0 0 0 7.796-14.208l.621-131.943a16.977 16.977 0 0 0-12.024-16.332 16.992 16.992 0 0 0-19.104 6.837l-16.505 24.805C370.398 26.778 310.1 0 243.615 0 142.806 0 56.133 61.562 19.167 149.06a39.258 39.258 0 0 0 3.429 36.987 39.265 39.265 0 0 0 32.727 17.594zM464.635 301.184a39.266 39.266 0 0 0-32.728-17.594 38.907 38.907 0 0 0-35.872 23.854c-25.018 59.604-83.843 101.61-152.42 101.61-37.798 0-72.45-12.955-100.232-34.442l21.776-3.369a16.986 16.986 0 0 0 14.233-14.514 16.985 16.985 0 0 0-9.867-17.768L49.779 285.089a17.014 17.014 0 0 0-16.169 1.205 17.017 17.017 0 0 0-7.795 14.207l-.622 131.943a16.976 16.976 0 0 0 12.024 16.332 16.991 16.991 0 0 0 19.104-6.839l16.505-24.805c44.004 43.32 104.303 70.098 170.788 70.098 100.811 0 187.481-61.561 224.446-149.059a39.252 39.252 0 0 0-3.425-36.987z"/></svg></div><label class=label><input class="text_input hotkey"data-action="Click supplies"readonly><p class=text>Click supplies</label></div><div class=hotkey_block><div class=refresh_hotkey data-action="Click mines"><svg viewBox="0 0 487.23 487.23"xmlns=http://www.w3.org/2000/svg><path d="M55.323 203.641a38.907 38.907 0 0 0 35.872-23.854c25.017-59.604 83.842-101.61 152.42-101.61 37.797 0 72.449 12.955 100.23 34.442l-21.775 3.371a16.981 16.981 0 0 0-14.232 14.512 16.983 16.983 0 0 0 9.867 17.768l119.746 53.872a17.012 17.012 0 0 0 16.168-1.205 17.019 17.019 0 0 0 7.796-14.208l.621-131.943a16.977 16.977 0 0 0-12.024-16.332 16.992 16.992 0 0 0-19.104 6.837l-16.505 24.805C370.398 26.778 310.1 0 243.615 0 142.806 0 56.133 61.562 19.167 149.06a39.258 39.258 0 0 0 3.429 36.987 39.265 39.265 0 0 0 32.727 17.594zM464.635 301.184a39.266 39.266 0 0 0-32.728-17.594 38.907 38.907 0 0 0-35.872 23.854c-25.018 59.604-83.843 101.61-152.42 101.61-37.798 0-72.45-12.955-100.232-34.442l21.776-3.369a16.986 16.986 0 0 0 14.233-14.514 16.985 16.985 0 0 0-9.867-17.768L49.779 285.089a17.014 17.014 0 0 0-16.169 1.205 17.017 17.017 0 0 0-7.795 14.207l-.622 131.943a16.976 16.976 0 0 0 12.024 16.332 16.991 16.991 0 0 0 19.104-6.839l16.505-24.805c44.004 43.32 104.303 70.098 170.788 70.098 100.811 0 187.481-61.561 224.446-149.059a39.252 39.252 0 0 0-3.425-36.987z"/></svg></div><label class=label><input class="text_input hotkey"data-action="Click mines"readonly><p class=text>Click mines</label></div></div></div></div></div></div></div></div>'),popupStyles(t),elementInitialize(t,"Diaphantium.coordinates",3,3),elementMove(t),setupHotkeys(t),setupSupplyClickCheckbox(t),setupMineDelay(t),setupClickValues(t)}function popupStyles(t){var a=$("<style>").html(".popup_container.diaphantium[author=OrakomoRi],.popup_container.diaphantium[author=OrakomoRi] *{margin:0;padding:0;border:none;outline:0;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:sans-serif;background:0 0;color:inherit}.popup_container.diaphantium[author=OrakomoRi] button{outline:0;border:none;background:0 0;overflow:visible;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;appearance:none;border-radius:0}.popup_container.diaphantium[author=OrakomoRi] button::-moz-focus-inner{border:0;padding:0}"),e=$("<style>").html('.popup_container.diaphantium[author=OrakomoRi]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:888;-webkit-box-align:center;-webkit-box-pack:center;display:flex;justify-content:center;align-items:center}.popup_container.diaphantium[author=OrakomoRi] .popup{position:absolute;display:flex;width:30em;height:20em;border-radius:.25em;padding:1em 2.5em 1em .5em;gap:2em;background:rgba(var(--diaphantium-background),var(--diaphantium-opacity));-webkit-backdrop-filter:blur(var(--diaphantium-blur));backdrop-filter:blur(var(--diaphantium-blur));border:.1em solid rgba(255,255,255,calc(var(--diaphantium-opacity) * 1.5));box-shadow:0 0 2em 0 rgba(255,255,255,.2);color:#fff;z-index:889}.popup_container.diaphantium[author=OrakomoRi] .content{display:none;flex-direction:column;align-items:center;gap:1em;flex-grow:1}.popup_container.diaphantium[author=OrakomoRi] .content.active{display:flex}.popup_container.diaphantium[author=OrakomoRi] .close{position:absolute;top:.5em;right:.5em;cursor:pointer;color:#fff;height:2em;width:2em;transition:color var(--diaphantium-transition)}.popup_container.diaphantium[author=OrakomoRi] .close:hover{color:#ff4646}.popup_container.diaphantium[author=OrakomoRi] .header{display:flex;align-items:center;justify-content:center;font-size:1.5em;font-weight:700}.popup_container.diaphantium[author=OrakomoRi] .inner{display:flex;flex-direction:column;justify-content:center;gap:1em;flex-grow:1;padding:.5em 1em;overflow:hidden}.popup_container.diaphantium[author=OrakomoRi] .subheader{font-size:1.2em;font-weight:700}.popup_container.diaphantium[author=OrakomoRi] .popup .scrollable{display:flex;flex-direction:column;gap:1em;padding:1em 2em;overflow:hidden auto}.popup_container.diaphantium[author=OrakomoRi] .popup .scrollable::-webkit-scrollbar-track{background:0 0}.popup_container.diaphantium[author=OrakomoRi] .popup .scrollable::-webkit-scrollbar{width:.5em;background:rgba(255,255,255,.2);border-radius:.25em}.popup_container.diaphantium[author=OrakomoRi] .popup .scrollable::-webkit-scrollbar-thumb{background-color:#5a5a5a;border-radius:.25em}.popup_container.diaphantium[author=OrakomoRi] .popup .scrollable::-webkit-scrollbar-thumb:hover{background-color:#787878}.popup_container.diaphantium[author=OrakomoRi] .inner .label{display:flex;align-items:center;gap:.5em}.popup_container.diaphantium[author=OrakomoRi] .text_input{padding:.2em .5em;background-color:rgb(var(--diaphantium-background-primary));color:#fff;text-align:center;border:.1em solid rgb(var(--diaphantium-accent));font-size:1em;border-radius:.2em;transition:all var(--diaphantium-transition)}.popup_container.diaphantium[author=OrakomoRi] .popup .checkbox{-webkit-appearance:none;-moz-appearance:none;appearance:none;font:inherit;background-color:rgb(var(--diaphantium-background-primary));color:rgb(var(--diaphantium-background-primary));width:1.2em;height:1.2em;box-shadow:0 0 0 .1em rgb(var(--diaphantium-accent));border-radius:.2em;cursor:pointer;display:flex;justify-content:center;align-items:center}.popup_container.diaphantium[author=OrakomoRi] .popup .checkbox::before{content:"";width:.8em;height:.8em;border-radius:.2em;background-color:rgb(var(--diaphantium-accent));transform:scale(0);transition:all var(--diaphantium-transition)}.popup_container.diaphantium[author=OrakomoRi] .popup .checkbox:checked::before{transform:scale(1)}.popup_container.diaphantium[author=OrakomoRi] .popup .checkbox:focus-visible{box-shadow:0 0 0 .1em rgb(var(--diaphantium-accent)),0 0 0 .2em rgb(var(--diaphantium-active))}.popup_container.diaphantium[author=OrakomoRi] .popup .checkbox:disabled{box-shadow:0 0 0 .1em #aaa}.popup_container.diaphantium[author=OrakomoRi] .popup .checkbox:checked:disabled::before{background-color:#aaa}.popup_container.diaphantium[author=OrakomoRi] .navigation{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em}.popup_container.diaphantium[author=OrakomoRi] .navigation .item{border-radius:.2em;padding:.5em;cursor:pointer;width:2.5em;height:2.5em;transition:color var(--diaphantium-transition),background-color var(--diaphantium-transition)}.popup_container.diaphantium[author=OrakomoRi] .navigation .item:focus,.popup_container.diaphantium[author=OrakomoRi] .navigation .item:hover{color:rgb(var(--diaphantium-accent))}.popup_container.diaphantium[author=OrakomoRi] .navigation .item.active{pointer-events:none;background-color:rgba(255,255,255,.25)}.popup_container.diaphantium[author=OrakomoRi] .supplies{display:flex;flex-direction:column;align-items:center;gap:1em;font-size:1em;font-weight:700}.popup_container.diaphantium[author=OrakomoRi] .supplies .subinner{display:flex;gap:1em}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply{width:1.5em;cursor:pointer;fill:#969696;transition:all var(--diaphantium-transition)}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-key="1"]:hover{fill:#94a059}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-key="2"]:hover{fill:#a39c74}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-key="3"]:hover{fill:#9b4343}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-key="4"]:hover{fill:#a4a448}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-state=on][data-key="1"]{fill:#bfe500}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-state=on][data-key="2"]{fill:#eadc99}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-state=on][data-key="3"]{fill:#f33}.popup_container.diaphantium[author=OrakomoRi] .supplies .supply[data-state=on][data-key="4"]{fill:#ff0}.popup_container.diaphantium[author=OrakomoRi] .click_enable{align-self:center}.popup_container.diaphantium[author=OrakomoRi] .text_input:focus{border-color:rgb(var(--diaphantium-active))}.popup_container.diaphantium[author=OrakomoRi] .mine_delay .text_input.delay{width:4em}.popup_container.diaphantium[author=OrakomoRi] .content[data-tab=settings] .subinner{display:flex;flex-direction:column;gap:.5em}.popup_container.diaphantium[author=OrakomoRi] .content[data-tab=settings] .hotkeys{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1.5em}.popup_container.diaphantium[author=OrakomoRi] .hotkeys .hotkey_block{display:flex;align-items:center;gap:.5em;padding:.2em 1em}.popup_container.diaphantium[author=OrakomoRi] .hotkeys .refresh_hotkey{height:1.5em;width:1.5em;fill:#969696;cursor:pointer}.popup_container.diaphantium[author=OrakomoRi] .hotkeys .refresh_hotkey:hover{fill:#fff}.popup_container.diaphantium[author=OrakomoRi] .hotkeys .refresh_hotkey svg{width:100%;height:100%}.popup_container.diaphantium[author=OrakomoRi] .hotkeys .text_input.hotkey{cursor:pointer;font-weight:700;width:5rem}.popup_container.diaphantium[author=OrakomoRi] .hotkeys .text{font-size:1em}.popup_container.diaphantium[author=OrakomoRi] .text_input.warning{border-color:#e1ff32}.popup_container.diaphantium[author=OrakomoRi] .text_input.warning:focus{border-color:rgb(var(--diaphantium-active))}.popup_container.diaphantium[author=OrakomoRi] .text_input.wrong_input{user-select:none;border-color:#ff3232;animation:shake .2s cubic-bezier(.36,.07,.19,.97) both}@keyframes shake{10%,90%{transform:translate3d(-.1rem,0,0)}20%,80%{transform:translate3d(.2rem,0,0)}30%,50%,70%{transform:translate3d(-.4rem,0,0)}40%,60%{transform:translate3d(.4rem,0,0)}}'),o=$("<style>").html(":root{--diaphantium-background:0,0,0;--diaphantium-opacity:.4;--diaphantium-blur:.5em;--diaphantium-accent:97,181,255;--diaphantium-active:81,221,97;--diaphantium-inactive:221,81,81;--diaphantium-background-primary:50,50,50;--diaphantium-transition:.3s ease}"),t=t.slice(0,t.lastIndexOf(" "));$(t).append(a),$(t).append(e),$(t).append(o)}function setupClickValues(e){function o(t){let a=[];$(t+" .supplies .supply").each(function(){var t={key:$(this).attr("data-key"),value:$(this).attr("data-state")};a.push(t)}),localStorage.setItem("Diaphantium.clickValues",JSON.stringify(a))}var t,i;$(e+" .supplies .supply").click(function(){var t=$(this),a=t.attr("data-state");t.attr("data-state","on"===a?"off":"on"),o(e)}),t=e,(i=JSON.parse(localStorage.getItem("Diaphantium.clickValues")))&&Array.isArray(i)?$(t+" .supplies .supply").each(function(){var t=$(this),a=t.attr("data-key"),e=i.find(function(t){return t.key===a}),e=e?e.value:"off";t.attr("data-state",e)}):$(t+" .supplies .supply").each(function(){$(this).attr("data-state","off")}),o(t)}function setupSupplyClickCheckbox(t){var a=$(t+" .click_enable .checkbox.supplies");(t=localStorage.getItem("Diaphantium.clickSuppliesState"))&&a.prop("checked","true"===t),a.on("change",function(){localStorage.setItem("Diaphantium.clickSuppliesState",a.prop("checked").toString())})}function setupMineDelay(a){function e(t){t=$(t+' .content[data-tab="clicker"] .text_input.delay').map(function(){return $(this).val()}).get();localStorage.setItem("Diaphantium.mine_delay",JSON.stringify(t))}var t,o;t=a,(o=JSON.parse(localStorage.getItem("Diaphantium.mine_delay")))&&Array.isArray(o)?$(t+' .content[data-tab="clicker"] .text_input.delay').each(function(t){$(this).val(o[t])}):($(t+' .content[data-tab="clicker"] .text_input.delay').val(100),e(t));const i=a+' .content[data-tab="clicker"] .text_input.delay',n=$(i);var r=n.val();$(document).click(function(t){0<n.length&&($(t.target).closest(i).length||n.blur())}),n.keydown(function(t){"Enter"===t.code&&$(this).blur()}).click(function(){$(this).focus()}).change(function(){var t=$(this).val();/^\d+$/.test(t)?(r=t,e(a)):(n.addClass("wrong_input"),setTimeout(function(){n.removeClass("wrong_input"),n.val(r)},200))})}function setupHotkeys(i){function n(t){let a=[];$(t+' .content[data-tab="settings"] .hotkeys .hotkey').each(function(){var t=$(this),t={action:t.attr("data-action"),value:t.attr("data-code")};a.push(t)}),localStorage.setItem("Diaphantium.hotkeys",JSON.stringify(a))}function r(t){const e=$(t+' .content[data-tab="settings"] .hotkeys .hotkey');e.removeClass("warning"),e.each(function(){const t=$(this).val();var a;null!==t&&""!==t&&1<(a=e.filter(function(){return $(this).val()===t})).length&&a.addClass("warning")})}var o,l;o=i,(l=JSON.parse(localStorage.getItem("Diaphantium.hotkeys")))&&Array.isArray(l)?$(o+' .content[data-tab="settings"] .hotkeys .hotkey').each(function(){var t=$(this);const a=t.attr("data-action");var e=l&&l.find(function(t){return t.action===a});e?(t.attr("data-code",e.value),t.val(e.value)):"Open menu"===a&&(t.attr("data-code","Slash"),t.val("Slash"),n(o))}):$(o+' .content[data-tab="settings"] .hotkeys .hotkey').each(function(){var t=$(this);"Open menu"===t.attr("data-action")&&(t.attr("data-code","Slash"),t.val("Slash"),n(o))});const a=i+' .content[data-tab="settings"] .hotkeys .hotkey',e=$(a);$(document).click(function(t){0<e.length&&($(t.target).closest(a).length||e.blur())}),$(document).on("click",i+' .content[data-tab="settings"] .hotkeys .refresh_hotkey',function(){var t=$(this).attr("data-action"),a=$(i+` .content[data-tab="settings"] .hotkeys .hotkey[data-action="${t}"]`);0<a.length&&("Open menu"===t?(a.val("Slash"),a.attr("data-code","Slash")):(a.val(""),a.removeAttr("data-code")),r(i),n(i))}),e.click(function(){$(this).focus()}).keydown(function(t){var a=$(this),e=t.code,o=a.val();"Escape"===e?"Open menu"===a.attr("data-action")?(a.val("Slash"),a.attr("data-code","Slash")):(a.val(""),a.removeAttr("data-code")):/^Digit[1-5]$/.test(e)?(a.addClass("wrong_input"),setTimeout(function(){a.removeClass("wrong_input"),a.val(o)},200)):(a.val(e),a.attr("data-code",e)),t.preventDefault(),a.blur(),r(i),n(i)})}function mobileIcon(t){function i(){var t;return!!("maxTouchPoints"in navigator?0<navigator.maxTouchPoints:"msMaxTouchPoints"in navigator?0<navigator.msMaxTouchPoints:"(pointer:coarse)"===(t=matchMedia?.("(pointer:coarse)"))?.media?!!t.matches:"orientation"in window||(t=navigator.userAgent,/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t))||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t))}function n(){if(!(0<$('.diaphantium_mobile.icon[author="OrakomoRi"]').length)){var t=$('<div author="OrakomoRi" class="diaphantium_mobile styles"><style>.diaphantium_mobile.icon[author=OrakomoRi]{z-index:777;bottom:0;left:0;position:absolute}.diaphantium_mobile.icon[author=OrakomoRi].main{width:3em;height:3em}.diaphantium_mobile.icon[author=OrakomoRi].mines,.diaphantium_mobile.icon[author=OrakomoRi].supplies{width:2.5em;height:2.5em;fill:rgb(100,100,100)}.diaphantium_mobile.icon[author=OrakomoRi].supplies.active{fill:rgb(255,51,51)}.diaphantium_mobile.icon[author=OrakomoRi].mines.active{fill:rgb(54,178,74)}.diaphantium_mobile[author=OrakomoRi].styles{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(0 0 0 0)}</style></div>'),t=($("body").append(t),[{class:"main",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z" stroke="#AFAFAF" stroke-linecap="round" stroke-linejoin="round" stroke-width="64"/><path d="M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z"/><path fill="#FFF" d="M256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464z"/><g fill="#646464"><path d="M81.244 111.914a75.113 75.113 0 0 0 17.27-12.885c5.429-5.435 9.858-11.595 13.353-18.2 4.177-7.892 13.125-1.654 13.125-1.654 12.29 8.078 24.638 15.444 35.396 21.534l40.852-40.885V20.132c0-7.633 6.193-13.821 13.828-13.821 7.632 0 13.825 6.188 13.825 13.821v45.407c0 3.675-1.456 7.188-4.046 9.78L75.587 224.731a13.836 13.836 0 0 1-9.78 4.05H20.179c-7.638 0-13.82-6.189-13.82-13.824 0-7.642 6.18-13.832 13.82-13.832h39.897l40.67-40.723c-6.488-10.991-14.441-23.768-23.188-36.428.004-.001-5.159-7.253 3.686-12.06zM92.572 46.568c0-12.436-4.837-24.122-13.622-32.921C70.173 4.863 58.499.028 46.088.028c-12.42 0-24.083 4.837-32.858 13.619C4.452 22.444-.39 34.132-.394 46.567c0 12.429 4.848 24.117 13.624 32.908 8.776 8.79 20.444 13.632 32.858 13.632 12.413 0 24.087-4.844 32.862-13.632 8.785-8.789 13.622-20.479 13.622-32.907zM188.443 176.724c-6.123-6.129-6.123-16.156-.001-22.285l15.401-15.417c6.122-6.129 16.14-6.129 22.262 0l262.908 263.184c6.122 6.128 11.772 18.202 12.556 26.828l5.866 64.508c.784 8.628-5.631 15.043-14.259 14.259l-64.384-5.855c-8.627-.784-20.694-6.44-26.817-12.569l-262.94-263.2c-6.12-6.128-6.12-16.156 0-22.284l15.423-15.439c6.122-6.128 16.14-6.128 22.264 0l220.155 220.36a8.284 8.284 0 0 0 11.729.005c3.243-3.234 3.243-8.493.003-11.74z"/></g></svg>'},{class:"supplies",svg:'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 1.33333L0 26L20 12L6 32L30.6667 28L20 24L32 0L8 12L4 1.33333Z"/></svg>'},{class:"mines",svg:'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 21.0098V10.9902L10.9902 4H21.0098L28 10.9902V21.0098L21.0098 28H10.9902L4 21.0098ZM8.74755 0.585786C9.12262 0.210713 9.63133 0 10.1618 0H21.8382C22.3687 0 22.8774 0.210714 23.2525 0.585787L31.4142 8.74755C31.7893 9.12262 32 9.63133 32 10.1618V21.8382C32 22.3687 31.7893 22.8774 31.4142 23.2525L23.2525 31.4142C22.8774 31.7893 22.3687 32 21.8382 32H10.1618C9.63133 32 9.12262 31.7893 8.74755 31.4142L0.585786 23.2525C0.210713 22.8774 0 22.3687 0 21.8382V10.1618C0 9.63133 0.210714 9.12262 0.585786 8.74755L8.74755 0.585786ZM16 23C19.866 23 23 19.866 23 16C23 12.134 19.866 9 16 9C12.134 9 9 12.134 9 16C9 19.866 12.134 23 16 23Z"/></svg>'}]);for(const a of t){const e=$(`<div author="OrakomoRi" class="diaphantium_mobile icon ${a.class}">${a.svg}</div>`);$("body").append(e),elementMove('.diaphantium_mobile.icon[author="OrakomoRi"].'+a.class),elementInitialize('.diaphantium_mobile.icon[author="OrakomoRi"].'+a.class,"Diaphantium.mobile",1,1,a.class),"supplies"!==a.class&&"mines"!==a.class||e.click(function(){e.toggleClass("active")})}}}i()&&n(),$(window).on("resize",function(){if(i())n();else{var t={main:"main",supplies:"supplies",mines:"mines"};for(icon of $('.diaphantium_mobile.icon[author="OrakomoRi"]')){var a,e,o=Object.keys(t).find(function(t){return $(icon).hasClass(t)});o&&(a={top:parseFloat($(icon).css("top")),left:parseFloat($(icon).css("left"))},(e=JSON.parse(localStorage.getItem("Diaphantium.mobile"))||{})[t[o]]={icon:t[o],coords:a},localStorage.setItem("Diaphantium.mobile",JSON.stringify(e))),$(icon).remove()}$('.diaphantium_mobile.styles[author="OrakomoRi"]').remove()}})}function clicker(n){"use strict";let o=[];var i=!1,e=!1;function r(t){var a=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:t,code:"Digit"+t,charCode:t.charCodeAt(0),keyCode:t.charCodeAt(0),which:t.charCodeAt(0)}),t=new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,key:t,code:"Digit"+t,charCode:t.charCodeAt(0),keyCode:t.charCodeAt(0),which:t.charCodeAt(0)});document.dispatchEvent(a),document.dispatchEvent(t)}function l(){if(i){o=[];var a,e=JSON.parse(localStorage.getItem("Diaphantium.clickValues"));for(let t=0;t<e.length;t++)"on"===e[t].value&&(a=e[t].key,o.push(a));o.forEach((t,a)=>{r(t)}),requestAnimationFrame(()=>l())}}function s(t){i=!i;t=$(t+" .click_enable .checkbox.supplies"),0<t.length&&t.prop("checked",i),t=$('.diaphantium_mobile.icon[author="OrakomoRi"].supplies');0<t.length&&t.toggleClass("active"),localStorage.setItem("Diaphantium.clickSuppliesState",i),i&&l()}function c(){e=!e;var t=$('.diaphantium_mobile.icon[author="OrakomoRi"].mines');0<t.length&&t.toggleClass("active"),e&&function t(){var a;e&&(r("5"),a=JSON.parse(localStorage.getItem("Diaphantium.mine_delay"))[0],setTimeout(function(){t()},a))}()}$(document).keydown(function(t){var a,e=JSON.parse(localStorage.getItem("Diaphantium.hotkeys"));let o,i;if(i=e&&Array.isArray(e)?(a=e.find(function(t){return"Click supplies"===t.action}),o=a?a.value:null,(a=e.find(function(t){return"Click mines"===t.action}))?a.value:null):o=null,o&&t.code===o&&!$(t.target).is(n+' .content[data-tab="settings"] .hotkeys .hotkey')){if("INPUT"===t.target.tagName)return;t.stopPropagation(),t.preventDefault(),s(n)}if(i&&t.code===i&&!$(t.target).is(n+' .content[data-tab="settings"] .hotkeys .hotkey')){if("INPUT"===t.target.tagName)return;t.stopPropagation(),t.preventDefault(),c()}"F5"===t.code&&location.reload()});var t=localStorage.getItem("Diaphantium.clickSuppliesState");t&&"true"===t&&s(n),$(document).on("change",n+" .click_enable .checkbox.supplies",function(){s(n)}),$(document).on("click",'.diaphantium_mobile.icon[author="OrakomoRi"]',function(){$(this).hasClass("supplies")?($(this).toggleClass("active"),s(n)):$(this).hasClass("mines")&&($(this).toggleClass("active"),c())})}function elementMove(i){const r=$(i);var l=parseFloat(r.css("left")),s=parseFloat(r.css("top"));let c,p,n,u,d=$(window).width(),h=$(window).height();const o=function(){var t,a,e,o,i=$(window).width(),n=$(window).height();i!==h&&n!==d?t=i>d||n>h:(e=i-r.outerWidth(),o=n-r.outerHeight(),l=Math.min(Math.max(l,0),e),s=Math.min(Math.max(s,0),o)),t?void 0!==c&&void 0!==p&&(t=Math.abs(i/d),a=Math.abs(n/h),l=c*t,s=p*a):(e=i-r.outerWidth(),o=n-r.outerHeight(),l=Math.min(Math.max(l,0),e),s=Math.min(Math.max(s,0),o)),r.css("top",s+"px"),r.css("left",l+"px"),c=l,p=s,d=i,h=n};let m=!1;const g=function(t){var a,e;m&&(a=((e=t.targetTouches?t.targetTouches[0]:null)||t).pageX,e=(e||t).pageY,l=a-n,s=e-u,o())},k=function(){m=!1,$(document).off("mousemove touchmove",g),$(document).off("mouseup touchend",k)};r.on("mousedown touchstart",function(t){var a=t.pageX||t.targetTouches[0].pageX,e=t.pageY||t.targetTouches[0].pageY,t=$(t.target);let o=!0;(o=t.is("input")||t.is("a")||0<t.closest("button").length||0<t.closest("label").length||0<t.closest(i+" .supply").length||0<t.closest(i+" .close").length||0<t.closest(i+" .navigation .item").length?!1:o)&&(m=!0,n=a-r.offset().left,u=e-r.offset().top,$(document).on("mousemove touchmove",g),$(document).on("mouseup touchend",k))}),$(window).on("resize orientationchange",function(){o()})}function elementInitialize(t,e,a,o,i=null){var n=$(t),r=n.outerWidth(),l=n.outerHeight(),s=$(window).width(),c=$(window).height(),s=s-r,r=c-l;function p(){n.css({top:a+"em",left:o+"em"})}localStorage.getItem(e)&&(c=JSON.parse(localStorage.getItem(e)),null!==i&&c[i]&&(c=c[i].coords),l=c)&&!isNaN(l.top)&&0<=l.top&&l.top<=r&&!isNaN(l.left)&&0<=l.left&&l.left<=s?(r=c,n.css({top:r.top+"px",left:r.left+"px"})):p(),$(window).on("beforeunload",function(){var t,a={top:parseFloat(n.css("top")),left:parseFloat(n.css("left"))};null===i?localStorage.setItem(e,JSON.stringify(a)):((t=JSON.parse(localStorage.getItem(e))||{})[i]={icon:i,coords:a},localStorage.setItem(e,JSON.stringify(t)))}),$(t).on("focus",function(t){t.stopPropagation()}),$(t).on("keydown",function(t){t.stopPropagation()})}$(document).ready(function(){var t='.popup_container.diaphantium[author="OrakomoRi"] .popup';popupToggle(t),popupAppearance(t),chooseTab(t),mobileIcon(t),clicker(t)}); })();